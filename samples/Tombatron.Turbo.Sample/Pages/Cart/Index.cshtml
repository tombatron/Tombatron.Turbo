@page
@model Tombatron.Turbo.Sample.Pages.Cart.IndexModel
@{
    ViewData["Title"] = "Shopping Cart";
}

<h1>Shopping Cart</h1>
<p>This page demonstrates Turbo Frames and Turbo Streams working together.</p>

<div class="grid">
    <div>
        <h2>Cart Items</h2>
        <p>Each item is a separate turbo-frame. Removing an item uses Turbo Streams to update both the item and the summary.</p>

        <div id="cart-items">
            @foreach (var item in Model.Items)
            {
                <partial name="Shared/_CartItem" model="item" />
            }
        </div>

        @if (!Model.Items.Any())
        {
            <div id="empty-cart-message" class="cart-item" style="text-align: center; color: var(--text-muted);">
                Your cart is empty
            </div>
        }
    </div>

    <div>
        <h2>Cart Summary</h2>
        <partial name="Shared/_CartSummary" model="Model" />

        <h3>Add Item</h3>
        <partial name="Shared/_AddItemForm" model="Model" />
    </div>
</div>

<a href="/" class="back-link">&larr; Back to Home</a>
